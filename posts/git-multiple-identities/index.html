<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Setup multiple git identities and pgp keys | Memo Garcia</title>
<meta name=keywords content><meta name=description content="Be very carrefull in your setup : any misconfiguration make all the git config to fail silently !
Setup multiple git ssh identities for git Generate your SSH keys as per your git provider documentation. Add each public SSH keys to your git providers acounts. In your ~/.ssh/config, set each ssh key for each repository as in this exemple: Host github.com HostName github.com User git IdentityFile ~/.ssh/github_private_key IdentitiesOnly=yes Host gitlab.com Hostname gitlab."><link rel=canonical href=https://memo.mx/posts/git-multiple-identities/><meta name=google-site-verification content="G-ZRB1GGCC9B"><link crossorigin=anonymous href=/assets/css/stylesheet.d1467e28595903f993a7e37893057cefe5f69aece461c850796bf5b0a3bf422a.css integrity="sha256-0UZ+KFlZA/mTp+N4kwV87+X2muzkYchQeWv1sKO/Qio=" rel="preload stylesheet" as=style><link rel=icon href=https://memo.mx/%20favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://memo.mx/%20favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://memo.mx/%20favicon-32x32.png><link rel=apple-touch-icon href=https://memo.mx/%20apple-touch-icon.png><link rel=mask-icon href=https://memo.mx/%20safari-pinned-tab.svg><meta name=theme-color content="#0d0221"><meta name=msapplication-TileColor content="#0d0221"><link rel=alternate hreflang=en href=https://memo.mx/posts/git-multiple-identities/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-ZRB1GGCC9B"></script><script>var dnt,doNotTrack=!1;if(!0&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-ZRB1GGCC9B")}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://memo.mx/posts/"},{"@type":"ListItem","position":2,"name":"Setup multiple git identities and pgp keys","item":"https://memo.mx/posts/git-multiple-identities/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Setup multiple git identities and pgp keys","name":"Setup multiple git identities and pgp keys","description":"Be very carrefull in your setup : any misconfiguration make all the git config to fail silently !\nSetup multiple git ssh identities for git Generate your SSH keys as per your git provider documentation. Add each public SSH keys to your git providers acounts. In your ~/.ssh/config, set each ssh key for each repository as in this exemple: Host github.com HostName github.com User git IdentityFile ~/.ssh/github_private_key IdentitiesOnly=yes Host gitlab.com Hostname gitlab.","keywords":[],"articleBody":"Be very carrefull in your setup : any misconfiguration make all the git config to fail silently !\nSetup multiple git ssh identities for git Generate your SSH keys as per your git provider documentation. Add each public SSH keys to your git providers acounts. In your ~/.ssh/config, set each ssh key for each repository as in this exemple: Host github.com HostName github.com User git IdentityFile ~/.ssh/github_private_key IdentitiesOnly=yes Host gitlab.com Hostname gitlab.com User git IdentityFile ~/.ssh/gitlab_private_key IdentitiesOnly=yes Setup dynamic git user email \u0026 name depending on folder Require git 2.13+ for conditional include support.\nThe idea here is to use a different git user name and email depending on the folder you are in.\nIn your ~/.gitconfig, remove the [user] block and add the following (adapt this exemple to your needs) : [includeIf \"gitdir:~/src/personal/\"] path = .gitconfig-personal [includeIf \"gitdir:~/src/work/\"] path = .gitconfig-work In your ~/.gitconfig-personal, add your personnal user informations: [user] email = user.personal@email.com name = personal_username In your ~/.gitconfig-work, add your professional user informations: [user] email = user.professional@company.com name = professional_username Setup a GPG key If you need to add a GPG key and bind it to a user to sign your commits, you can do so like this:\nYou should have GPG installed and configured like the GPG suite\nAdd the GPG key ID to your ~/.gitconfig-{PROFILE} config and enable commit signing: [user] email = your.mail@domain.com name = Your NAME signingkey = SIGNING_KEY_ID [commit] gpgsign = true Make sure to register the right GPG binary in your ~/.gitconfig: [program] pgp = /path/to/your/gpg2/bin Test your setup Now each repository will use the custom user info setup depending on the top-level folder. Check your settings are taken into account, for instance in ~/src/git/personal/ : cd ~/src/git/personal/ git config --get user.email git config --get user.name git config --get user.signingkey Do the same for each folder you have setup. You can also display and check the global git config: git config --list --global Or just the local config for the repository folder you are in: git config --list Exporting Public GPG key gpg --list-keys gpg --armor --export {KEY-ID} References Generating a new GPG key Telling Git about your signing key ","wordCount":"358","inLanguage":"en","datePublished":"2022-03-04T02:03:30+01:00","dateModified":"2025-08-12T13:16:43+09:00","author":{"@type":"Person","name":"Memo Garcia"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://memo.mx/posts/git-multiple-identities/"},"publisher":{"@type":"Person","name":"Memo Garcia","logo":{"@type":"ImageObject","url":"https://memo.mx/favicon.ico"}}}</script></head><body class=dark id=top><script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://memo.mx/ accesskey=h title="Memo Garcia (Alt + H)">Memo Garcia</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://memo.mx/tools title=Tools><span>Tools</span></a></li><li><a href=https://memo.mx/dayjob title=$DAYJOB><span>$DAYJOB</span></a></li><li><a href=https://memo.mx/startup title=Startup><span>Startup</span></a></li><li><a href=https://memo.mx/youtube title=YouTube><span>YouTube</span></a></li><li><a href=https://memo.mx/books title=Books><span>Books</span></a></li><li><a href=https://memo.mx/about title=About><span>About</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>Setup multiple git identities and pgp keys</h1><div class=post-meta><span title='2022-03-04 02:03:30 +0100 +0100'>March 4, 2022</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;Memo Garcia</div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#setup-multiple-git-ssh-identities-for-git aria-label="Setup multiple git ssh identities for git">Setup multiple git ssh identities for git</a></li><li><a href=#setup-dynamic-git-user-email--name-depending-on-folder aria-label="Setup dynamic git user email &amp;amp; name depending on folder">Setup dynamic git user email & name depending on folder</a></li><li><a href=#setup-a-gpg-key aria-label="Setup a GPG key">Setup a GPG key</a></li><li><a href=#test-your-setup aria-label="Test your setup">Test your setup</a></li><li><a href=#exporting-public-gpg-key aria-label="Exporting Public GPG key">Exporting Public GPG key</a></li><li><a href=#references aria-label=References>References</a></li></ul></div></details></div><div class=post-content><p>Be very carrefull in your setup : <strong>any misconfiguration make all the git config to fail silently !</strong></p><h2 id=setup-multiple-git-ssh-identities-for-git>Setup multiple git ssh identities for git<a hidden class=anchor aria-hidden=true href=#setup-multiple-git-ssh-identities-for-git>#</a></h2><ul><li>Generate your SSH keys as per your git provider documentation.</li><li>Add each public SSH keys to your git providers acounts.</li><li>In your <code>~/.ssh/config</code>, set each ssh key for each repository as in this exemple:</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>Host github.com
</span></span><span class=line><span class=cl>  HostName github.com
</span></span><span class=line><span class=cl>  User git
</span></span><span class=line><span class=cl>  IdentityFile ~/.ssh/github_private_key
</span></span><span class=line><span class=cl>  <span class=nv>IdentitiesOnly</span><span class=o>=</span>yes
</span></span><span class=line><span class=cl>Host gitlab.com
</span></span><span class=line><span class=cl>  Hostname gitlab.com
</span></span><span class=line><span class=cl>  User git
</span></span><span class=line><span class=cl>  IdentityFile ~/.ssh/gitlab_private_key
</span></span><span class=line><span class=cl>  <span class=nv>IdentitiesOnly</span><span class=o>=</span>yes
</span></span></code></pre></div><h2 id=setup-dynamic-git-user-email--name-depending-on-folder>Setup dynamic git user email & name depending on folder<a hidden class=anchor aria-hidden=true href=#setup-dynamic-git-user-email--name-depending-on-folder>#</a></h2><p><strong>Require git 2.13+ for conditional include support.</strong></p><p>The idea here is to use a different git user name and email depending on the folder you are in.</p><ul><li>In your <code>~/.gitconfig</code>, <strong>remove</strong> the <code>[user]</code> block and add the following (adapt this exemple to your needs) :</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=o>[</span>includeIf <span class=s2>&#34;gitdir:~/src/personal/&#34;</span><span class=o>]</span>
</span></span><span class=line><span class=cl>  <span class=nv>path</span> <span class=o>=</span> .gitconfig-personal
</span></span><span class=line><span class=cl><span class=o>[</span>includeIf <span class=s2>&#34;gitdir:~/src/work/&#34;</span><span class=o>]</span>
</span></span><span class=line><span class=cl>  <span class=nv>path</span> <span class=o>=</span> .gitconfig-work
</span></span></code></pre></div><ul><li>In your <code>~/.gitconfig-personal</code>, add your personnal user informations:</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=o>[</span>user<span class=o>]</span>
</span></span><span class=line><span class=cl>  <span class=nv>email</span> <span class=o>=</span> user.personal@email.com
</span></span><span class=line><span class=cl>  <span class=nv>name</span> <span class=o>=</span> personal_username
</span></span></code></pre></div><ul><li>In your <code>~/.gitconfig-work</code>, add your professional user informations:</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=o>[</span>user<span class=o>]</span>
</span></span><span class=line><span class=cl>  <span class=nv>email</span> <span class=o>=</span> user.professional@company.com
</span></span><span class=line><span class=cl>  <span class=nv>name</span> <span class=o>=</span> professional_username
</span></span></code></pre></div><h2 id=setup-a-gpg-key>Setup a GPG key<a hidden class=anchor aria-hidden=true href=#setup-a-gpg-key>#</a></h2><p>If you need to add a GPG key and bind it to a user to sign your commits, you can do so like this:</p><p>You should have GPG installed and configured like the <a href=https://gpgtools.org/>GPG suite</a></p><ul><li>Add the GPG key ID to your <code>~/.gitconfig-{PROFILE}</code> config and enable commit signing:</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=o>[</span>user<span class=o>]</span>
</span></span><span class=line><span class=cl>  <span class=nv>email</span> <span class=o>=</span> your.mail@domain.com
</span></span><span class=line><span class=cl>  <span class=nv>name</span> <span class=o>=</span> Your NAME
</span></span><span class=line><span class=cl>  <span class=nv>signingkey</span> <span class=o>=</span> SIGNING_KEY_ID
</span></span><span class=line><span class=cl><span class=o>[</span>commit<span class=o>]</span>
</span></span><span class=line><span class=cl>  <span class=nv>gpgsign</span> <span class=o>=</span> <span class=nb>true</span>
</span></span></code></pre></div><ul><li>Make sure to register the right GPG binary in your <code>~/.gitconfig</code>:</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=o>[</span>program<span class=o>]</span>
</span></span><span class=line><span class=cl>  <span class=nv>pgp</span> <span class=o>=</span> /path/to/your/gpg2/bin
</span></span></code></pre></div><h2 id=test-your-setup>Test your setup<a hidden class=anchor aria-hidden=true href=#test-your-setup>#</a></h2><ul><li>Now each repository will use the custom user info setup depending on the top-level folder.</li><li>Check your settings are taken into account, for instance in <code>~/src/git/personal/</code> :</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>cd</span> ~/src/git/personal/
</span></span><span class=line><span class=cl>git config --get user.email
</span></span><span class=line><span class=cl>git config --get user.name
</span></span><span class=line><span class=cl>git config --get user.signingkey
</span></span></code></pre></div><ul><li>Do the same for each folder you have setup.</li><li>You can also display and check the global git config: <code>git config --list --global</code><ul><li>Or just the local config for the repository folder you are in: <code>git config --list</code></li></ul></li></ul><h2 id=exporting-public-gpg-key>Exporting Public GPG key<a hidden class=anchor aria-hidden=true href=#exporting-public-gpg-key>#</a></h2><pre><code>gpg --list-keys
gpg --armor --export {KEY-ID}
</code></pre><h2 id=references>References<a hidden class=anchor aria-hidden=true href=#references>#</a></h2><ul><li><a href=https://docs.github.com/en/authentication/managing-commit-signature-verification/generating-a-new-gpg-key>Generating a new GPG key</a></li><li><a href=https://docs.github.com/en/authentication/managing-commit-signature-verification/telling-git-about-your-signing-key>Telling Git about your signing key</a></li></ul></div><footer class=post-footer><ul class=post-tags></ul><nav class=paginav><a class=prev href=https://memo.mx/posts/gitops-in-enterprise/><span class=title>« Prev</span><br><span>How to use GitOps in a non-cloud-native environment</span>
</a><a class=next href=https://memo.mx/posts/i3wm-wsl2/><span class=title>Next »</span><br><span>i3 running on WSL2</span></a></nav></footer></article></main><footer class=footer></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>