<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Understanding Computer Networks by Analogy - Part 2: Moving Around the City | Memo Garcia</title>
<meta name=keywords content><meta name=description content="This is Part 2 of the series. If you haven&rsquo;t read Part 1: Building the Foundation, start there first.
The Internet: A City of Buildings Analogy: The entire internet visualized as a vast cityscape of interconnected buildings (networks) linked by roads (communication lines). We&rsquo;ve been focusing on a single building so far, but in reality, the world is filled with millions of &ldquo;buildings&rdquo; (networks) all interconnected. The internet is like a massive metropolis  a city that spans the entire globe, full of buildings of all sizes and purposes."><link rel=canonical href=https://memo.mx/posts/understanding-networks-by-analogy-2/><meta name=google-site-verification content="G-ZRB1GGCC9B"><link crossorigin=anonymous href=/assets/css/stylesheet.d1467e28595903f993a7e37893057cefe5f69aece461c850796bf5b0a3bf422a.css integrity="sha256-0UZ+KFlZA/mTp+N4kwV87+X2muzkYchQeWv1sKO/Qio=" rel="preload stylesheet" as=style><link rel=icon href=https://memo.mx/%20favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://memo.mx/%20favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://memo.mx/%20favicon-32x32.png><link rel=apple-touch-icon href=https://memo.mx/%20apple-touch-icon.png><link rel=mask-icon href=https://memo.mx/%20safari-pinned-tab.svg><meta name=theme-color content="#0d0221"><meta name=msapplication-TileColor content="#0d0221"><link rel=alternate hreflang=en href=https://memo.mx/posts/understanding-networks-by-analogy-2/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-ZRB1GGCC9B"></script><script>var dnt,doNotTrack=!1;if(!0&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-ZRB1GGCC9B")}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://memo.mx/posts/"},{"@type":"ListItem","position":2,"name":"Understanding Computer Networks by Analogy - Part 2: Moving Around the City","item":"https://memo.mx/posts/understanding-networks-by-analogy-2/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Understanding Computer Networks by Analogy - Part 2: Moving Around the City","name":"Understanding Computer Networks by Analogy - Part 2: Moving Around the City","description":"This is Part 2 of the series. If you haven\u0026rsquo;t read Part 1: Building the Foundation, start there first.\nThe Internet: A City of Buildings Analogy: The entire internet visualized as a vast cityscape of interconnected buildings (networks) linked by roads (communication lines). We\u0026rsquo;ve been focusing on a single building so far, but in reality, the world is filled with millions of \u0026ldquo;buildings\u0026rdquo; (networks) all interconnected. The internet is like a massive metropolis \u0013 a city that spans the entire globe, full of buildings of all sizes and purposes.","keywords":[],"articleBody":"This is Part 2 of the series. If you haven’t read Part 1: Building the Foundation, start there first.\nThe Internet: A City of Buildings Analogy: The entire internet visualized as a vast cityscape of interconnected buildings (networks) linked by roads (communication lines). We’ve been focusing on a single building so far, but in reality, the world is filled with millions of “buildings” (networks) all interconnected. The internet is like a massive metropolis \u0013 a city that spans the entire globe, full of buildings of all sizes and purposes.\nThink of each building as one network:\nSome buildings are small homes or shops \u0013 analogous to a home network or a small office network. They might only have a handful of rooms/devices.\nSome buildings are gigantic skyscrapers \u0013 like the networks of large corporations, data centers, or major cloud providers, hosting thousands of servers (rooms) and complex internal structures.\nThere are specialized buildings: a library building might represent a university network, a bank vault building might be a secure banking network, a shopping mall could be an e-commerce network. On the internet, you have all sorts of specialized networks (gaming networks, streaming networks, etc., each optimized for certain tasks).\nAll these diverse buildings are connected by roads, highways, and bridges. In the world of the internet, the “roads” are the physical and wireless links: fiber optic cables running under the ocean, telephone lines, satellite links, Wi-Fi signals, etc. These are what connect one network to another. Just like roads connect buildings and let vehicles carry mail or people around, these data links carry packets between networks.\nImagine looking at a map of a city at night with lights representing buildings and roads connecting them. The internet is similar, though on a much grander scale:\nLocal roads might be the smaller-scale connections (like the cable from your home router to your ISP, or the Wi-Fi and Ethernet connecting machines in an office).\nHighways are like the backbone connections, maybe fiber lines that run between cities or under oceans connecting continents.\nBridges could be special links like satellite connections or cross-ocean cables bridging big gaps.\nWith so many “buildings” and such a huge “city,” how do we ever find anything? It would be like trying to find one specific apartment in a metropolis of 10 million buildings! This is where our navigation tools \u0013 addresses, directories (DNS), and routers acting like traffic control \u0013 are crucial on a larger scale.\nKey point: The internet has no single central building or central road \u0013 it’s a network of networks. Each network (building) often belongs to an entity (an individual, a company, an institution, an ISP, etc.), and they agree to connect their networks following common standards (like using IP, BGP for inter-network routing, etc.) so that data can flow between them.\nSo, when you send data from your device in your home network to a server in another country, you’re essentially sending a message from your little building, through the streets, onto the highway, possibly switching highways, exiting into another neighborhood, and finally arriving at the destination building overseas. You rely on things analogous to traffic signs, maps, and postal services at the city scale \u0013 which in internet terms are routing protocols, address schemes, and ISP infrastructures \u0013 to get it there.\nThe complexity is astounding, but like a city, it’s somewhat organized: There are major “hubs” where data tends to flow (like Internet Exchange Points, analogous to major postal centers or highway interchanges), and there are smaller routes connecting out-of-the-way “villages” (maybe a remote network connecting via a few hops to the nearest big hub).\nIn the next sections, we’ll talk about how data is routed through this city (routers as our maps and traffic cops on the journey), and who builds and maintains these roads (ISPs), etc.\nBut as an image, hold the thought: The internet = a global city of networks, all cooperating (most of the time) to deliver data anywhere it needs to go.\nTechnical Perspective: The internet being a “network of networks” is not just a metaphor, it’s the literal definition. Each building = an autonomous system (AS) or just a local network. The connections between networks are managed by Internet Service Providers (ISPs) and governed by protocols like BGP (Border Gateway Protocol), which is the “routing protocol of the internet” that lets one network announce to others what destinations (IP prefixes) it can deliver to. There’s hierarchy (though somewhat flattening in recent times) in how networks connect:\nYour home network connects to a local ISP (maybe a regional provider). That ISP might connect to a larger national ISP or directly to major exchange points. Large content providers (like Google, Netflix, etc.) have their own global networks (their own “buildings” and highways) which peer with ISPs. At certain locations called Internet Exchange Points (IXPs), many networks meet to swap traffic (like a big interchange in a highway system) There are also submarine cables connecting continents, which are like the trans-oceanic highways. The city has no single mayor: no one entity controls the whole internet, but many coordinate via standardization bodies (IETF, ICANN for addresses and names, etc.) to keep it running smoothly. The scale: There are billions of devices (rooms) and hundreds of thousands of networks (buildings). IP addressing (IPv4 and IPv6) provides the addressing scheme to uniquely identify each endpoint globally (like unique building + room combos globally for public addresses), which is why we needed IPv6 as IPv4 addresses ran out.\nData traveling through the internet often passes through multiple autonomous systems; each hop is a router at the edge of one network passing it to a router at the edge of another. You might traceroute a packet and see 10-15 hops through different providers and locations.\nReliability: The packet-switched design and redundant paths make the internet resilient. Even if part of the “city” suffers a power outage (say a major fiber is cut in a region), routers recalc routes and find detours if possible (though with some slowdown, analogous to traffic being re-routed around an accident).\nSo, conceptually, seeing the internet as a huge city is helpful to appreciate that your data doesn’t magically teleport from point A to B \u0013 it travels through a complex web of infrastructure, akin to navigating a huge sprawling metropolis with many stops, intersections, and signs along the way.\nRouters as City Maps We already saw routers as building concierges guiding between floors. When we scale up to the city (internet), routers take on an even more crucial role: they become the map-keepers of the internet.\nImagine driving in a massive city. At every major intersection, you might have signs or traffic lights. In networking, routers act a bit like those intersection guides \u0013 but smarter. Instead of static signs, they dynamically exchange information and decide the best path for each packet.\nInside your building (local network), your router had a simple job: know where Floor 5 is, know where Floor 3 is, etc. But in the city, a router (especially those big core routers in ISPs) needs to know about thousands of networks (like thousands of buildings addresses) or at least how to reach them.\nRouters in the internet are connected to each other forming a web. They share with each other what they know via routing protocols:\nOne router might tell its neighbor, “Hey, I have a route to Network A over here, through me.” The neighbor updates its map.\nThey communicate through protocols like BGP (between organizations) or OSPF/RIP (within an organization) to keep their maps current.\nSo when a packet arrives at a router, the router essentially looks at its internal “city map” (the routing table) and says: Destination is Building X? According to my map, the fastest (or configured) route to that is via Road Y \u0013 so I’ll forward the packet to the next router down Road Y. Each router repeats this process, so the packet is handed off like a baton from one to the next, moving closer to the destination.\nThe idea of routing tables is key \u0013 it’s like each router has a GPS with the latest traffic info. If a road (connection) goes down, routers detect it (maybe via neighbors not talking anymore, akin to hearing that a highway is closed) and they update their maps to avoid that route. If a new road is built (a new link between networks comes up), they learn a new route and might take advantage of it if it’s better.\nSo routers in aggregate ensure that even if the city roads are complicated, you (as a data packet) don’t have to figure out the whole path from start to finish; you just rely on the routers at each step to point you in the right direction. That’s akin to driving and at each intersection having a sign that directs you toward the district you’re aiming for, rather than memorizing the entire route.\nAnother way to visualize: if the internet is a city, the routers are like distribution centers or post offices that know where to send mail next. A local post office might not know the exact carrier route for the destination, but it knows to send this batch of mail to the central processing center; the central one knows to send it to the right regional center, and so on. Each step is guided by a “routing” decision until it reaches the post office nearest the destination, which then knows the local route.\nIn simpler analogies: routers in the global context act like a chain of street signs and direction pointers. Without them, your packet would be lost in the city. With them, even if one route is blocked, often another route can be found (maybe longer, but it gets there).\nSo next time you’re streaming a video, realize that dozens of routers across various countries might be collaborating to get those video packets to you quickly. They are constantly updating their maps (especially at the big scale, BGP updates when networks change paths, etc.) to ensure the city’s data traffic flows efficiently.\nTechnical Perspective: At the global scale, routers use protocols like BGP (Border Gateway Protocol) to exchange reachability information. BGP essentially allows networks (Autonomous Systems) to advertise “I can reach these IP prefixes” to other networks. It’s often compared to a vectoring system for routes \u0013 it’s not purely shortest path like road distance; policies and path preferences come into play. However, conceptually each router ends up with a routing table entry for every network prefix it might need to send traffic to (or a default route for smaller routers). High-end routers can have routing tables with on the order of \u003e800,000 IPv4 routes (as of mid-2020s) plus a bunch of IPv6 routes. They use this table to perform a longest prefix match on destination IP of each packet and decide which interface to send it out on (which is the next hop towards that destination). This is done extremely fast in hardware (TCAMs and such for lookup).\nInside a large network (like within an ISP or large enterprise), IGPs (Interior Gateway Protocols) like OSPF or IS-IS might be used to propagate routes internally, and those are more akin to having the detailed map of the company’s own roads. BGP is more like inter-company exchange of routes (the big highway map).\nRouters also implement various algorithms for picking routes: some prefer the shortest AS path (BGP’s default is basically that), others consider link costs or speeds. They can also detect failures via keepalive messages and routing protocol signals, and then recalc routes typically within seconds (sometimes faster, sometimes a bit slower for BGP).\nIn summary, think of the internet’s routing system as a combination of millions of “street signs” (the routing entries) and agreements like “if you see traffic for my area, send it my way and I’ll handle it from there” (peering agreements between networks).\nOne last point: In a city, if too many cars try to use one road at once, you get a jam. On the internet, if too much data tries to use one link at once, you get congestion (packets queue up, and if queue is full, new ones get dropped). This is where routers might also act like traffic police by implementing QoS or traffic shaping, and protocols like TCP react to drops by slowing down. So the routing system plus these congestion control mechanisms are what keep the internet running relatively smoothly even during peak usage times \u0013 akin to smart traffic lights and perhaps metering ramps on highways to prevent total gridlock.\nNext, let’s talk more about those traffic jams and detours.\nRouting Tables To expand a bit on the routers’ map analogy: the actual “map” inside each router is the routing table. If you’ve ever used a paper map or a mapping app with a list of directions, a routing table is somewhat like that but in a very abstract way.\nA routing table is basically a list of known destinations (or destination patterns) and instructions on how to reach them. In the city sense:\nDestination could be a particular building or a street.\nInstruction might be “take the 5th Avenue till Main St, then turn…” \u0013 but routers simplify this by just telling the next hop (the next intersection or the next post office to hand off to).\nIn more concrete terms, an entry in a routing table might say:\nDestination: 203.0.113.0/24 (this denotes an entire network of addresses, similar to saying “all addresses on Elm Street block”).\nNext Hop: via 198.51.100.4 (this is the IP address of a neighboring router that knows how to get to that network).\nPossibly also Interface: eth0 (meaning send out on a specific interface/port).\nSo when a router gets a packet, it looks up the destination IP in its routing table. The routing table is sorted by specificity \u0013 it finds the most specific matching route (longest prefix match). For instance, a router might know a general route for “anywhere in that city goes east” but a more specific route for “this particular district in that city goes north first then east.” It will pick the specific one if available.\nTo the analogy: if you have a map, you might have a general idea “to get to any address with ZIP code 12345, head along Highway X.” But if you have a detailed map for one neighborhood in that ZIP, you might go a slightly optimized way once you identify the exact street.\nRouters keep these tables updated via those routing protocols we mentioned:\nIf a road closes, the entry might be removed or changed (e.g., “destination Elm Street now unreachable or now via a different neighbor”).\nIf a new faster road opens, maybe a new entry appears preferring a new next hop.\nBecause these tables are the key to navigation, updating them quickly when things change is crucial. This is why there’s a lot of engineering in routing protocols to converge (update all routers with changes) as fast as possible to avoid black holes or loops.\nThink of a scenario: A main fiber line between two cities goes down suddenly (like a main highway closed). The routers that used that as the next hop to some set of destinations will notice and “erase” those routes, or find alternatives. During that update period (maybe a few seconds or more, depending), some packets might be lost or find no route \u0013 akin to travelers reaching a “Road Closed” sign and having no detour instructions yet. But soon, alternative routes propagate and packets start flowing a different way (perhaps through another city). That’s like your GPS finding a new route when it detects traffic.\nRouting tables can be very large \u0013 on the order of hundreds of thousands of entries for internet backbone routers. But each entry is just a destination prefix (like a network address and mask) and the next hop info, plus perhaps some metrics (like how “far” or what the preference is).\nA small analogy from everyday tech: On your own PC or phone, you also have a routing table, albeit tiny. Usually it says “any address not on my local network, send to my default gateway (router).” That’s one entry (the default route). And perhaps one for local network, one for loopback. In a home, your router’s table might be only slightly more complex \u0013 mostly forwarding everything to the ISP and handling local ones directly. But an ISP’s router has to differentiate between many, many networks.\nIn summary, a routing table is like the collection of all known paths a router can use, and picking the best one for each packet is how data finds its target without an explicit end-to-end guide pre-written.\nTechnical Perspective: Routing tables in routers contain prefixes (network addresses with subnet masks) and their associated forwarding information (next-hop and outgoing interface). For example:\n0.0.0.0/0 via 198.51.100.1 on eth0 \u0013 this is a default route (matches anything not more specific). 203.0.113.0/24 via 198.51.100.4 on eth1 \u0013 a specific network route. 10.5.0.0/16 dev eth2 \u0013 perhaps an internal network reachable directly on a local interface. Routers perform a longest prefix match on the destination IP of each packet. Modern routers do this in hardware for speed. In the early internet days, routing tables could be managed manually or with simpler protocols (RIP etc.), but with scale, BGP updates these entries dynamically for external routes.\nAlso, each route might have attributes: in BGP, for instance, there’s local preference, AS path, MED, etc., which influence selection when multiple routes exist for the same prefix. But ultimately once selection is done, one entry is installed in the forwarding table (FIB \u0013 forwarding information base).\nRouting vs Forwarding: Technically, the “routing table” is sometimes considered the RIB (routing information base) with all known routes, and the “forwarding table” is the subset of routes the router is actively using to forward packets. In many cases, these distinctions aren’t visible externally, but it’s good to know internally routers may keep additional info.\nFor a network engineer, understanding the routing table is vital: netstat -r or ip route on Linux shows the routing table \u0013 if something isn’t working, maybe there’s no route or a wrong route. On a big router, one might inspect BGP table entries to see if a prefix is learned or filtered.\nExample: If you try to reach an IP and get “Destination net unreachable”, often it means there’s no matching route in the table (so the packet gets dropped and an ICMP message is returned). Or if there’s a misconfiguration, packets might loop because routing tables on two routers send the packet to each other back and forth \u0013 that’s a routing loop, usually protocols have methods to prevent those (like hop counts, split horizon, etc.).\nIn summary, routing tables are the implementation of the “knowledge” that routers use to steer traffic. They are built from initial configs, direct connections, and dynamically from routing protocols. They are as critical to networks as a brain is to a body \u0013 without them, the network wouldn’t know where to send anything.\nTraffic and Detours Even in well-planned cities, sometimes the usual routes get overwhelmed or blocked. Rush hour hits and the main highway is jammed. An accident closes a key intersection. Smart travelers (or navigation apps) will look for detours to avoid the congestion. The internet similarly experiences “rush hours” and accidents (outages), and routers must handle these gracefully by finding alternate routes.\nLet’s talk traffic jams: In the network context, a traffic jam happens when a particular link or route is carrying more data than it can handle comfortably. Remember, each physical link (like a cable or fiber) has a maximum capacity (bandwidth). If devices send more data than the link can transmit at once, a queue forms at the router’s interface. If the queue gets too large, packets start getting dropped. This is analogous to cars backed up in a long line or even being turned away if an off-ramp is full.\nCongestion and detours: Good news \u0013 as we discussed, routers are constantly sharing information. If a route becomes slow or fails, routers can try alternative paths. In dynamic routing protocols, they might not detect slight congestion (they aren’t like Waze measuring minor slowdowns in real-time), but they do detect failures. However, some modern networks and systems (and adaptive protocols like some SD-WAN technologies) can react to performance metrics too.\nBasic internet routing (BGP) doesn’t automatically reroute due to congestion \u0013 it’s more about availability (is the route up or down). But congestion is often handled by the endpoints adjusting (TCP slows down). However, in some cases, if one path is too slow consistently, network engineers might reconfigure routing, or traffic might naturally spread out if multi-path routes exist.\nA relatable scenario:\nIf a primary route between New York and Los Angeles is very crowded, data might also flow via a different path (maybe via Chicago or even a more roundabout path) especially if some smart routing or load balancing is in play. The internet often has multiple redundant links between major areas, so traffic can distribute (some networks use equal-cost multi-path routing to split load across multiple links). The resilience aspect: If a major fiber cut happens (like an “accident” closing the road), routers quickly announce “we lost that road” and all traffic shifts to other available roads (even if longer). Your data might take a few milliseconds longer to arrive due to a detour, but it will get there. This is like having multiple bridges out of a city \u0013 one goes down, you use the other.\nWe can also think of traffic engineering: big network operators sometimes plan alternate paths or throttle certain traffic so that the “VIP lanes” (for critical traffic) are clear. This goes into QoS territory which we’ll hit later, but it’s akin to city planners designating some lanes as HOV or having traffic cops redirect flows during events.\nThe key idea to convey: The network is not static. It deals with varying loads all the time. When you stream a popular live event, that’s like rush hour \u0013 tons of data heading to many users, causing spikes in traffic. Networks mitigate this by having fat “highways” for backbone connections and by distributing content (CDNs, which we’ll discuss) closer to users. When spikes do cause congestion, protocols like TCP ensure that everyone slows down a bit (involuntarily, through packet loss signals) so that it doesn’t collapse the network.\nMeanwhile, if something knocks out part of the network (like a key router goes offline or cable breaks), routing protocols re-route around the failure, much like a well-designed road system with multiple redundancies.\nAll of this is why you rarely notice when something happens. There have been instances (some big outages make the news) where a major internet backbone goes down and suddenly things are slow or unreachable until rerouted. But often, the network “self-heals” so quickly that end users have no clue, or just a brief glitch.\nSo think of internet routers and the architecture as having built-in “detour planning” capabilities. It’s not always perfect \u0013 there can be bottlenecks if, say, all alternate routes are also near capacity, but generally the philosophy is: multiple paths exist; if one is clogged, use another. And if all are clogged, well, that’s like a city in gridlock \u0013 at that point, nothing to do but wait or improve infrastructure (upgrade links).\nTechnical Perspective: There are a few technical angles to congestion and detours:\nCongestion Control: This is primarily handled by transport protocols like TCP. TCP’s algorithms (like Reno, Cubic, BBR, etc.) detect packet loss or delay (as signals of congestion) and adjust sending rates. This is like drivers noticing brake lights and slowing down to avoid collisions.\nTraffic Engineering: Network operators can influence routing to balance load. For example, with BGP, an ISP might have multiple links to another ISP and can tweak route advertisements or use protocols like MPLS with traffic engineering to spread traffic. It’s like manually directing some traffic onto an alternate highway to prevent overuse of one.\nFast Reroute: Some networks employ fast reroute mechanisms (especially in MPLS or modern routing protocols) to switch to backup paths in sub-second time if a failure is detected, improving on the often slower convergence of standard BGP.\nMultiple Paths: Protocols like ECMP (Equal-Cost Multi-Path) allow routers to use multiple next-hops for the same destination prefix if they have equal cost, effectively load-balancing traffic across parallel links. So if two roads are equally good, traffic is split \u0013 that’s proactive detour usage.\nDetour in application: Sometimes the application or overlay networks handle it \u0013 e.g., Tor or some VPNs can route around heavy nodes, or things like Google’s QUIC (on UDP) can migrate to different network paths if needed without breaking the connection.\nA real example: When a big undersea cable broke between, say, Asia and North America, traffic rerouted through other cables, though latency increased (since maybe it had to go via Europe or something). That’s a detour: longer path but connectivity maintained.\nAnother example: BGP misconfiguration can cause traffic to detour in unintended ways (like that time when a Pakistan ISP accidentally announced a route for all of YouTube’s traffic and sucked it into a black hole \u0013 the “detour” was catastrophic because it was a mis-route). So proper functioning relies on routers exchanging accurate info.\nThe phrase “the internet routes around damage” is a famous saying. It’s generally true: built-in redundancy and dynamic routing allows it to circumvent many problems.\nSo, network reliability comes not just from strong cables, but from smart routing and protocols that adjust to conditions. This adaptability is one of the internet’s greatest strengths.\nA Global Network From a tiny room to a floor to a building to a city \u0013 we’ve scaled the analogy up and up. Let’s take a moment to marvel at what we’ve got now: a global network that connects virtually every corner of the world. From your single computer in a dorm room or a caf�, you can reach servers and devices on the other side of the planet in seconds. How is this even possible? Because of all the principles we’ve covered working together in harmony:\nUnique addressing (IP): Every “building” has an address and every “room” inside it can be uniquely identified. This is like having a global postal code system that ensures even in a gigantic world city, a given address points to exactly one location.\nDNS (directories): If you prefer names to addresses, the DNS system is ready to translate. This is critical because humans can’t remember billions of numeric addresses. The DNS hierarchy, like a giant international directory, is always there to help route your message by name.\nProtocols (common rules/languages): No matter if the two devices have different hardware or are across oceans, they talk in agreed languages like TCP/IP, HTTP, etc. This is akin to standardizing communication \u0013 like if everyone in the world learned a common tongue for business, or at least the postal offices all agree on how to format an envelope and address.\nRouters and Gateways (connecting infrastructure): These are the bridges and roads that link all networks. They figure out the path, whether it’s short (to the next city) or long (across continents). The cooperative nature of internet service providers and backbone carriers means your data can hop through many owners’ networks seamlessly. Just as you can drive your car across state lines and country borders following highways, your data travels across many network boundaries guided by BGP and peering agreements.\nPrivate/Public IP and NAT: This allows the global network to scale by not needing a public identity for every device, and provides some isolation. It’s like in a global phone system, not every office phone has a direct external line \u0013 many share a few lines through a PBX. NAT at your home or office ensures multiple devices share one public address, conserving the global address space.\nSecurity measures (firewalls, encryption): Though not explicitly detailed yet in our analogy, note that as data travels, there are checkpoints and locks (we’ll soon discuss security) that ensure not just anyone can barge into your building or eavesdrop on messages. On the internet, technologies like TLS (for encryption) and firewalls (for network security) are the guardians of safe transit.\nCoordinated operation: The fact that no single entity runs the whole internet, but it still works, is like a city with no single mayor yet everything somehow functions \u0013 because everyone follows common laws (protocols) and mutual agreements (ISPs peering, etc.). There are organizations (like IETF, ICANN, etc.) which set standards and coordinate critical resources like addresses and domain names to avoid chaos.\nWhen we say “global network,” we also underscore the speed and capacity. Light travels fast \u0013 and through fiber optics, your data literally travels as light, at two-thirds of the speed of light approximately. This means even around the world (~40,000 km), theoretically ~0.2 seconds one-way for light in fiber, maybe ~0.3 seconds after all the switching. That’s why you can have nearly real-time video calls with someone across the planet. It’s like having a conversation with someone in the next room, except the “next room” is in another country.\nIt’s also robust: if one route is down, others pick up. If one server is busy, others might share load (think of content delivery networks replicating content across the globe, which we’ll mention soon). The design is not perfect, but it’s incredibly resilient given its scale and decentralization.\nSo, from our analogy perspective: now we have a worldwide cityscape where any room can send a message to any other room, across any distance, and the message can get there usually in less than a second. That’s the power of the internet, built on the networking fundamentals we’ve covered.\nTechnical Perspective: The internet’s global nature relies on:\nIP (Internet Protocol) as the universal addressing scheme (IPv4 and IPv6 ensuring that every network node can be identified globally, the latter solving the address exhaustion issue).\nStandard protocols (TCP, UDP, etc.) that all systems implement \u0013 thanks to standards (RFCs) and interoperable implementations.\nPhysical infrastructure: huge amounts of fiber optic cabling, undersea cables (with repeaters), satellite links, cellular networks, etc., that physically move the data. Companies and governments invest in this continuously (adding more fiber, increasing backbone speeds, launching new satellites).\nAgreements and governance: e.g., Tier 1 ISPs that form the core don’t charge each other (settlement-free peering) to exchange traffic, ensuring global reachability. They do charge lower tiers, etc., but the system overall ensures that any internet user can reach any other, as networks are motivated to be interconnected (who’d join an internet that can’t reach half the world?).\nThe speed: as noted, signals propagate near light speed. There’s also optimization: new protocols reduce handshake overhead (like QUIC vs TCP for repeated connections), smarter routing caching, etc. Hardware improves so routers can forward at terabits per second rates.\nScale: global internet traffic is in the zettabytes per year range now. It’s handled by distributed architecture (no single wire or router carries it all \u0013 it’s spread out). Content is served from multiple data centers around the world to shorten distances (CDNs, more later). That’s like in our city, having copies of a library’s popular books in many branches so people don’t all travel to one big central library.\nTo put it in a frame: The Internet is the largest engineered system ever built by humans, linking billions of devices. And it works 24/7, largely invisibly to us. It embodies the principle that if you design simple, robust building blocks (like IP being dumb about content, just forwarding packets; TCP handling reliability; DNS handling naming; etc.), and allow many participants to cooperate through open protocols, you can scale to an unimaginable extent.\nWe’ve now covered the core of how data gets from here to there. Next, we’ll delve into some additional important aspects of networks, like who provides these links (ISPs), and things about security, performance enhancements, etc., all within our trusty analogy framework.\nISPs as Builders Let’s focus on the role of those who actually construct and provide the roads in our city-of-networks: the ISPs (Internet Service Providers). In our building analogy, if each building is a network, how do they get connected physically? Someone has to lay down the cable (the roads) between buildings, maintain them, and possibly regulate traffic. This is what ISPs do in the digital world.\nThink of ISPs as the construction companies and utility providers of the internet city:\nThey lay the cables (fiber optic lines underground, coaxial cables to homes, etc.) that serve as the main roads and highways between networks.\nThey may own routers and switching centers that act like the big highway interchanges or bridges connecting different parts of the city.\nThey provide service to buildings (networks) much like a utility. When you get internet access at home, you’re essentially hiring an ISP to connect your home (your building) to the rest of the global city. Without that, your building is isolated \u0013 you’d have a network, but it’d be like a building with no road leading to it.\nIn many places, multiple ISPs might serve the same area, analogous to multiple road companies or tollway operators. They interconnect at exchange points.\nOn a more granular note, consider your home network (a small building) connecting to your ISP:\nThe ISP gives you a “last mile” connection \u0013 maybe a fiber line or DSL or cable line into your building. This is like them building a private driveway from your house to the main road.\nAt the other end, the ISP connects up to larger networks (or is itself large). They might be connected to other ISPs regionally, and those to others globally. ISPs themselves form a hierarchy or mesh (there are Tier 1 ISPs that form the internet backbone, Tier 2 that connect regions or countries but pay Tier 1 for wider access, Tier 3 that directly serve consumers or local areas, etc.).\nSo when you send data out, after leaving your building via the gateway, you’re on the ISP’s infrastructure \u0013 their roads. They ensure your data can travel along their network and then hop off to another ISP’s network if needed to reach the destination building.\nWithout ISPs, we’d have a bunch of independent networks that might not talk to each other. ISPs and their peering agreements stitch the networks together into one internet.\nImagine if every building had to run its own wires to every other building it wanted to talk to \u0013 that’d be impossible at scale. Instead, buildings connect to an ISP’s hub (like connecting to the nearest highway entrance), and the ISPs connect to each other’s hubs. That way, any building can reach any other by going through this network of roads owned by ISPs.\nAdditionally, ISPs maintain and upgrade these roads (we’ll cover maintenance next). They decide how much capacity to build (should we lay a new 100 Gbps line to this city? Should we upgrade this old copper to fiber?). They often charge fees or have subscription models, similar to tolls or utility bills, to fund this.\nIn the analogy: an ISP is like a road builder and maintenance crew combined with a toll operator. You pay them (monthly bill) to use their roads to get to the rest of the world. They in turn might pay bigger ISPs for upstream connectivity (like a regional toll road might pay for connecting to the interstate system, or just analogous to commerce agreements).\nSumming up: ISPs are the reason your building (network) isn’t an island. They connect you to the global city by building and operating the physical and logical infrastructure for data transport.\nTechnical Perspective:\nLast mile: This term refers to the link from the ISP to the end user (home or business). Could be DSL, Cable, Fiber-to-the-home, wireless broadband, etc. It’s often one of the harder parts (installing lines to every home is labor-intensive).\nISP equipment: They provide you typically a modem or ONT (optical network terminal) and you connect your router to that. On their side, they have access networks (like a DSLAM in phone exchange for DSL, CMTS for cable, or OLT for fiber PON) that concentrate many users.\nBackhaul: The ISP aggregates local customers’ traffic into bigger pipes that carry it to core network and then out to the internet exchanges.\nTier 1 vs Tier 2: Tier 1 ISPs are large networks that don’t pay anyone for transit \u0013 they peer with all other tier 1s and cover lots of ground (e.g., Level 3, AT\u0026T, NTT, etc.). Tier 2’s buy transit from Tier 1’s for some routes but also peer where they can. Tier 3’s (like small local ISPs) usually pay upstream providers entirely for internet access.\nPeering and transit: Two ISPs may have a settlement-free peering (no charge both directions if traffic is balanced enough), or a customer-provider relationship (one pays the other for access).\nUtilities analogy: People often compare the internet to power grid or roads \u0013 in some ways it’s like a road system, in others like a telecom utility. Many governments regulate ISPs like utilities when it comes to fair access etc., because they’re critical infrastructure.\nISP as an IP: Typically, when your device sends data out, it goes to the ISP’s router, which then uses its routing table to send upstream. The ISP usually assigns you an IP (public or behind CGNAT) which is how your network is identified on the internet. They also often provide a DNS resolver, etc.\nWithout an ISP, if you and I directly strung a cable, we could network, but to reach a website on another continent, you need these intermediary carriers.\nSo the healthy functioning of the internet relies on ISPs (and the big backbone operators) to do their job of expanding capacity, connecting with each other, and routing traffic fairly efficiently. Historically, there have been occasional tussles (one ISP might throttle or not carry traffic well from another if disputes arise, akin to two road companies disagreeing at a border \u0013 but mostly it’s resolved via business agreements because customers demand access to all internet content).\nAlright, with roads built by ISPs, we can drive anywhere. But roads need upkeep \u0013 let’s talk maintenance next.\nGlobal Communication Ultimately, because of the collaborations and infrastructures set by ISPs (and the underlying technologies), we achieve something quite magical: any building (network) can talk to any other building in the world, essentially in real-time. This is global communication at work.\nThis chapter is a bit of a capstone of Part 2, emphasizing that from your little room, you can reach across the globe:\nFrom a tiny village’s network in one country, you can stream video from a server in a mega data center on another continent.\nA student in their dorm (one room in one building) can video chat with another student thousands of miles away as if they were next door.\nBusinesses can connect their offices worldwide through secure tunnels (VPNs, which we’ll discuss in security part) \u0013 making it feel like one cohesive network even if physically distributed.\nAll the pieces we discussed \u0013 IP addresses, DNS, routers, gateways, ports, protocols, ISPs, etc. \u0013 are the unsung heroes enabling this.\nTo put it into the building terms: you, in Room 101 of Building A in City X, can send a message that ends up in Room 202 of Building B in City Y halfway around the planet. And not just you \u0013 millions can do similar simultaneously, thanks to the scalability of the system.\nThink of historical context: It’s as if every person in every building got a magic telephone line connecting them to anyone else \u0013 except it’s even more versatile than a telephone because it’s data of all kinds (text, voice, video, interactive apps).\nThe internet city truly turned the world into a “global village” concept \u0013 because distance and location matter a lot less now for communication:\nYes, there is still latency (it’s not instant-instant if far, maybe 100-300ms), but that’s tiny.\nPeople collaborate in real time from different countries on documents, code, etc. because the network allows their computers to behave like they’re in neighboring cubicles.\nWe should also note: all this happens at incredible speed and reliability. The fact that one can reload a webpage from servers across the world and see it in seconds, or that we can watch a live sports event happening in another country with only a few seconds delay \u0013 these are everyday miracles courtesy of computer networks.\nThis chapter might also be a good place to reflect on how interconnected everything is:\nThe phrase “the world is connected like never before” is directly enabled by what we covered.\nHowever, it also means if major networks go down, it can have wide impact (like if a Tier1 has an outage, many dependent networks could feel it).\nSo global communication via the internet is a bit like having built an extremely complex yet robust “worldwide web” of roads and protocols that ties humanity together (for better or worse \u0013 but mostly better, we hope, in terms of sharing knowledge and connectivity).\nEssentially, from your room to the world:\nIP + port: find the right building and room. DNS: translate human-friendly names to those addresses. Protocols: speak in a way the other side understands. Routers/gateways: carry you through the city intersections to the destination. Public/private IP \u0026 NAT: handle addressing at the boundaries. ISPs: provide the pathways and global reach. If needed, specialized tweaks (like VPNs or CDNs or quality of service) can optimize or secure specific communications \u0013 topics we are going to delve into next (security and advanced stuff in Part 3 maybe).\nBut at its core, the motto could be: no matter where you are, if you’re on the network, you can reach anywhere else on the network. That’s the definition of the internet: interconnected networks forming one big global network.\nIt’s something to appreciate \u0013 we often only notice internet infrastructure when it fails or is slow, but when you stop and think, it’s astonishing that it works as well as it does.\nTechnical Perspective:\nAchieving global reach requires adherence to standards (so any IP network can interface with another) and cooperation among operators. Organizations like the IETF (Internet Engineering Task Force) ensure new technologies remain interoperable and backward-compatible as much as possible.\nThere are slight exceptions: some regions might have restricted internet (firewalls like the Great Firewall of China, or isolated intranets), but physically even those can connect \u0013 the isolation is a policy choice, not a technical necessity.\nEven beyond Earth: the networks extend to satellites, space stations. One day, maybe interplanetary networks (delay-tolerant networking is being researched for that).\nKey stat: ~5 billion people use the internet, tens of billions of devices. The scale is global indeed. Data flows between all continents at terabit speeds routinely.\nModern enterprise networks often connect via internet-based VPNs rather than leased lines, because internet is so pervasive and high-bandwidth now.\nBut for everyday personal usage, it’s things like email, social media, video calls that really highlight the “wow, I’m talking to someone 10,000 km away like they’re here.”\nThe backbone upgrades like undersea cables capable of petabits, etc., ensure the capacity for global comm grows with demand (like 4K streaming, etc. that would’ve been unthinkable to send globally a couple decades ago).\nThe internet weather: There are tools to see global internet health (like monitors of BGP routes, etc.). Sometimes a country gets cut off (cable cut to an island nation, etc.) \u0013 then you realize global communication isn’t guaranteed, it’s maintained by ongoing efforts to have multiple redundant links.\nThus, the dream of networking \u0013 connecting disparate systems \u0013 has been realized to the point where location is almost irrelevant to data. That is a massive achievement of computer networks by analogy or otherwise.\nNow, let’s move to Part 3 \u0013 tackling more conceptual or future stuff (security, advanced networking, cloud, etc.), continuing our analogy narrative.\nContinue to Part 3: Hotels in the Cloud \u0026 Future Cities\n","wordCount":"7375","inLanguage":"en","datePublished":"2024-12-20T01:53:23+01:00","dateModified":"2025-08-12T21:20:56+09:00","author":{"@type":"Person","name":"Memo Garcia"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://memo.mx/posts/understanding-networks-by-analogy-2/"},"publisher":{"@type":"Person","name":"Memo Garcia","logo":{"@type":"ImageObject","url":"https://memo.mx/favicon.ico"}}}</script></head><body class=dark id=top><script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://memo.mx/ accesskey=h title="Memo Garcia (Alt + H)">Memo Garcia</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://memo.mx/tools title=Tools><span>Tools</span></a></li><li><a href=https://memo.mx/dayjob title=$DAYJOB><span>$DAYJOB</span></a></li><li><a href=https://memo.mx/startup title=Startup><span>Startup</span></a></li><li><a href=https://memo.mx/youtube title=YouTube><span>YouTube</span></a></li><li><a href=https://memo.mx/books title=Books><span>Books</span></a></li><li><a href=https://memo.mx/about title=About><span>About</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>Understanding Computer Networks by Analogy - Part 2: Moving Around the City</h1><div class=post-meta><span title='2024-12-20 01:53:23 +0100 +0100'>December 20, 2024</span>&nbsp;·&nbsp;35 min&nbsp;·&nbsp;Memo Garcia</div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#the-internet-a-city-of-buildings aria-label="The Internet: A City of Buildings">The Internet: A City of Buildings</a></li><li><a href=#routers-as-city-maps aria-label="Routers as City Maps">Routers as City Maps</a></li><li><a href=#routing-tables aria-label="Routing Tables">Routing Tables</a></li><li><a href=#traffic-and-detours aria-label="Traffic and Detours">Traffic and Detours</a></li><li><a href=#a-global-network aria-label="A Global Network">A Global Network</a></li><li><a href=#isps-as-builders aria-label="ISPs as Builders">ISPs as Builders</a></li><li><a href=#global-communication aria-label="Global Communication">Global Communication</a></li></ul></div></details></div><div class=post-content><p><em>This is Part 2 of the series. If you haven&rsquo;t read <a href=/posts/understanding-networks-by-analogy-1/>Part 1: Building the Foundation</a>, start there first.</em></p><h2 id=the-internet-a-city-of-buildings>The Internet: A City of Buildings<a hidden class=anchor aria-hidden=true href=#the-internet-a-city-of-buildings>#</a></h2><p><strong>Analogy</strong>: The entire internet visualized as a vast cityscape of interconnected buildings (networks) linked by roads (communication lines). We&rsquo;ve been focusing on a single building so far, but in reality, the world is filled with millions of &ldquo;buildings&rdquo; (networks) all interconnected. The internet is like a massive metropolis  a city that spans the entire globe, full of buildings of all sizes and purposes.</p><p>Think of each building as one network:</p><ul><li><p>Some buildings are small homes or shops  analogous to a home network or a small office network. They might only have a handful of rooms/devices.</p></li><li><p>Some buildings are gigantic skyscrapers  like the networks of large corporations, data centers, or major cloud providers, hosting thousands of servers (rooms) and complex internal structures.</p></li><li><p>There are specialized buildings: a library building might represent a university network, a bank vault building might be a secure banking network, a shopping mall could be an e-commerce network. On the internet, you have all sorts of specialized networks (gaming networks, streaming networks, etc., each optimized for certain tasks).</p></li></ul><p>All these diverse buildings are connected by roads, highways, and bridges. In the world of the internet, the &ldquo;roads&rdquo; are the physical and wireless links: fiber optic cables running under the ocean, telephone lines, satellite links, Wi-Fi signals, etc. These are what connect one network to another. Just like roads connect buildings and let vehicles carry mail or people around, these data links carry packets between networks.</p><p>Imagine looking at a map of a city at night with lights representing buildings and roads connecting them. The internet is similar, though on a much grander scale:</p><ul><li><p>Local roads might be the smaller-scale connections (like the cable from your home router to your ISP, or the Wi-Fi and Ethernet connecting machines in an office).</p></li><li><p>Highways are like the backbone connections, maybe fiber lines that run between cities or under oceans connecting continents.</p></li><li><p>Bridges could be special links like satellite connections or cross-ocean cables bridging big gaps.</p></li></ul><p>With so many &ldquo;buildings&rdquo; and such a huge &ldquo;city,&rdquo; how do we ever find anything? It would be like trying to find one specific apartment in a metropolis of 10 million buildings! This is where our navigation tools  addresses, directories (DNS), and routers acting like traffic control  are crucial on a larger scale.</p><p><strong>Key point</strong>: The internet has no single central building or central road  it&rsquo;s a network of networks. Each network (building) often belongs to an entity (an individual, a company, an institution, an ISP, etc.), and they agree to connect their networks following common standards (like using IP, BGP for inter-network routing, etc.) so that data can flow between them.</p><p>So, when you send data from your device in your home network to a server in another country, you&rsquo;re essentially sending a message from your little building, through the streets, onto the highway, possibly switching highways, exiting into another neighborhood, and finally arriving at the destination building overseas. You rely on things analogous to traffic signs, maps, and postal services at the city scale  which in internet terms are routing protocols, address schemes, and ISP infrastructures  to get it there.</p><p>The complexity is astounding, but like a city, it&rsquo;s somewhat organized: There are major &ldquo;hubs&rdquo; where data tends to flow (like Internet Exchange Points, analogous to major postal centers or highway interchanges), and there are smaller routes connecting out-of-the-way &ldquo;villages&rdquo; (maybe a remote network connecting via a few hops to the nearest big hub).</p><p>In the next sections, we&rsquo;ll talk about how data is routed through this city (routers as our maps and traffic cops on the journey), and who builds and maintains these roads (ISPs), etc.</p><p>But as an image, hold the thought: The internet = a global city of networks, all cooperating (most of the time) to deliver data anywhere it needs to go.</p><p><strong>Technical Perspective</strong>: The internet being a &ldquo;network of networks&rdquo; is not just a metaphor, it&rsquo;s the literal definition. Each building = an autonomous system (AS) or just a local network. The connections between networks are managed by Internet Service Providers (ISPs) and governed by protocols like BGP (Border Gateway Protocol), which is the &ldquo;routing protocol of the internet&rdquo; that lets one network announce to others what destinations (IP prefixes) it can deliver to. There&rsquo;s hierarchy (though somewhat flattening in recent times) in how networks connect:</p><ul><li>Your home network connects to a local ISP (maybe a regional provider).</li><li>That ISP might connect to a larger national ISP or directly to major exchange points.</li><li>Large content providers (like Google, Netflix, etc.) have their own global networks (their own &ldquo;buildings&rdquo; and highways) which peer with ISPs.</li><li>At certain locations called Internet Exchange Points (IXPs), many networks meet to swap traffic (like a big interchange in a highway system)</li><li>There are also submarine cables connecting continents, which are like the trans-oceanic highways.</li><li>The city has no single mayor: no one entity controls the whole internet, but many coordinate via standardization bodies (IETF, ICANN for addresses and names, etc.) to keep it running smoothly.</li></ul><p>The scale: There are billions of devices (rooms) and hundreds of thousands of networks (buildings). IP addressing (IPv4 and IPv6) provides the addressing scheme to uniquely identify each endpoint globally (like unique building + room combos globally for public addresses), which is why we needed IPv6 as IPv4 addresses ran out.</p><p>Data traveling through the internet often passes through multiple autonomous systems; each hop is a router at the edge of one network passing it to a router at the edge of another. You might traceroute a packet and see 10-15 hops through different providers and locations.</p><p>Reliability: The packet-switched design and redundant paths make the internet resilient. Even if part of the &ldquo;city&rdquo; suffers a power outage (say a major fiber is cut in a region), routers recalc routes and find detours if possible (though with some slowdown, analogous to traffic being re-routed around an accident).</p><p>So, conceptually, seeing the internet as a huge city is helpful to appreciate that your data doesn&rsquo;t magically teleport from point A to B  it travels through a complex web of infrastructure, akin to navigating a huge sprawling metropolis with many stops, intersections, and signs along the way.</p><h2 id=routers-as-city-maps>Routers as City Maps<a hidden class=anchor aria-hidden=true href=#routers-as-city-maps>#</a></h2><p>We already saw routers as building concierges guiding between floors. When we scale up to the city (internet), routers take on an even more crucial role: they become the map-keepers of the internet.</p><p>Imagine driving in a massive city. At every major intersection, you might have signs or traffic lights. In networking, routers act a bit like those intersection guides  but smarter. Instead of static signs, they dynamically exchange information and decide the best path for each packet.</p><p>Inside your building (local network), your router had a simple job: know where Floor 5 is, know where Floor 3 is, etc. But in the city, a router (especially those big core routers in ISPs) needs to know about thousands of networks (like thousands of buildings addresses) or at least how to reach them.</p><p>Routers in the internet are connected to each other forming a web. They share with each other what they know via routing protocols:</p><ul><li><p>One router might tell its neighbor, &ldquo;Hey, I have a route to Network A over here, through me.&rdquo; The neighbor updates its map.</p></li><li><p>They communicate through protocols like BGP (between organizations) or OSPF/RIP (within an organization) to keep their maps current.</p></li></ul><p>So when a packet arrives at a router, the router essentially looks at its internal &ldquo;city map&rdquo; (the routing table) and says: Destination is Building X? According to my map, the fastest (or configured) route to that is via Road Y  so I&rsquo;ll forward the packet to the next router down Road Y. Each router repeats this process, so the packet is handed off like a baton from one to the next, moving closer to the destination.</p><p>The idea of routing tables is key  it&rsquo;s like each router has a GPS with the latest traffic info. If a road (connection) goes down, routers detect it (maybe via neighbors not talking anymore, akin to hearing that a highway is closed) and they update their maps to avoid that route. If a new road is built (a new link between networks comes up), they learn a new route and might take advantage of it if it&rsquo;s better.</p><p>So routers in aggregate ensure that even if the city roads are complicated, you (as a data packet) don&rsquo;t have to figure out the whole path from start to finish; you just rely on the routers at each step to point you in the right direction. That&rsquo;s akin to driving and at each intersection having a sign that directs you toward the district you&rsquo;re aiming for, rather than memorizing the entire route.</p><p>Another way to visualize: if the internet is a city, the routers are like distribution centers or post offices that know where to send mail next. A local post office might not know the exact carrier route for the destination, but it knows to send this batch of mail to the central processing center; the central one knows to send it to the right regional center, and so on. Each step is guided by a &ldquo;routing&rdquo; decision until it reaches the post office nearest the destination, which then knows the local route.</p><p>In simpler analogies: routers in the global context act like a chain of street signs and direction pointers. Without them, your packet would be lost in the city. With them, even if one route is blocked, often another route can be found (maybe longer, but it gets there).</p><p>So next time you&rsquo;re streaming a video, realize that dozens of routers across various countries might be collaborating to get those video packets to you quickly. They are constantly updating their maps (especially at the big scale, BGP updates when networks change paths, etc.) to ensure the city&rsquo;s data traffic flows efficiently.</p><p><strong>Technical Perspective</strong>: At the global scale, routers use protocols like BGP (Border Gateway Protocol) to exchange reachability information. BGP essentially allows networks (Autonomous Systems) to advertise &ldquo;I can reach these IP prefixes&rdquo; to other networks. It&rsquo;s often compared to a vectoring system for routes  it&rsquo;s not purely shortest path like road distance; policies and path preferences come into play. However, conceptually each router ends up with a routing table entry for every network prefix it might need to send traffic to (or a default route for smaller routers). High-end routers can have routing tables with on the order of >800,000 IPv4 routes (as of mid-2020s) plus a bunch of IPv6 routes. They use this table to perform a longest prefix match on destination IP of each packet and decide which interface to send it out on (which is the next hop towards that destination). This is done extremely fast in hardware (TCAMs and such for lookup).</p><p>Inside a large network (like within an ISP or large enterprise), IGPs (Interior Gateway Protocols) like OSPF or IS-IS might be used to propagate routes internally, and those are more akin to having the detailed map of the company&rsquo;s own roads. BGP is more like inter-company exchange of routes (the big highway map).</p><p>Routers also implement various algorithms for picking routes: some prefer the shortest AS path (BGP&rsquo;s default is basically that), others consider link costs or speeds. They can also detect failures via keepalive messages and routing protocol signals, and then recalc routes typically within seconds (sometimes faster, sometimes a bit slower for BGP).</p><p>In summary, think of the internet&rsquo;s routing system as a combination of millions of &ldquo;street signs&rdquo; (the routing entries) and agreements like &ldquo;if you see traffic for my area, send it my way and I&rsquo;ll handle it from there&rdquo; (peering agreements between networks).</p><p>One last point: In a city, if too many cars try to use one road at once, you get a jam. On the internet, if too much data tries to use one link at once, you get congestion (packets queue up, and if queue is full, new ones get dropped). This is where routers might also act like traffic police by implementing QoS or traffic shaping, and protocols like TCP react to drops by slowing down. So the routing system plus these congestion control mechanisms are what keep the internet running relatively smoothly even during peak usage times  akin to smart traffic lights and perhaps metering ramps on highways to prevent total gridlock.</p><p>Next, let&rsquo;s talk more about those traffic jams and detours.</p><h2 id=routing-tables>Routing Tables<a hidden class=anchor aria-hidden=true href=#routing-tables>#</a></h2><p>To expand a bit on the routers&rsquo; map analogy: the actual &ldquo;map&rdquo; inside each router is the routing table. If you&rsquo;ve ever used a paper map or a mapping app with a list of directions, a routing table is somewhat like that but in a very abstract way.</p><p>A routing table is basically a list of known destinations (or destination patterns) and instructions on how to reach them. In the city sense:</p><ul><li><p>Destination could be a particular building or a street.</p></li><li><p>Instruction might be &ldquo;take the 5th Avenue till Main St, then turn&mldr;&rdquo;  but routers simplify this by just telling the next hop (the next intersection or the next post office to hand off to).</p></li></ul><p>In more concrete terms, an entry in a routing table might say:</p><ul><li><p>Destination: 203.0.113.0/24 (this denotes an entire network of addresses, similar to saying &ldquo;all addresses on Elm Street block&rdquo;).</p></li><li><p>Next Hop: via 198.51.100.4 (this is the IP address of a neighboring router that knows how to get to that network).</p></li><li><p>Possibly also Interface: eth0 (meaning send out on a specific interface/port).</p></li></ul><p>So when a router gets a packet, it looks up the destination IP in its routing table. The routing table is sorted by specificity  it finds the most specific matching route (longest prefix match). For instance, a router might know a general route for &ldquo;anywhere in that city goes east&rdquo; but a more specific route for &ldquo;this particular district in that city goes north first then east.&rdquo; It will pick the specific one if available.</p><p>To the analogy: if you have a map, you might have a general idea &ldquo;to get to any address with ZIP code 12345, head along Highway X.&rdquo; But if you have a detailed map for one neighborhood in that ZIP, you might go a slightly optimized way once you identify the exact street.</p><p>Routers keep these tables updated via those routing protocols we mentioned:</p><ul><li><p>If a road closes, the entry might be removed or changed (e.g., &ldquo;destination Elm Street now unreachable or now via a different neighbor&rdquo;).</p></li><li><p>If a new faster road opens, maybe a new entry appears preferring a new next hop.</p></li></ul><p>Because these tables are the key to navigation, updating them quickly when things change is crucial. This is why there&rsquo;s a lot of engineering in routing protocols to converge (update all routers with changes) as fast as possible to avoid black holes or loops.</p><p>Think of a scenario: A main fiber line between two cities goes down suddenly (like a main highway closed). The routers that used that as the next hop to some set of destinations will notice and &ldquo;erase&rdquo; those routes, or find alternatives. During that update period (maybe a few seconds or more, depending), some packets might be lost or find no route  akin to travelers reaching a &ldquo;Road Closed&rdquo; sign and having no detour instructions yet. But soon, alternative routes propagate and packets start flowing a different way (perhaps through another city). That&rsquo;s like your GPS finding a new route when it detects traffic.</p><p>Routing tables can be very large  on the order of hundreds of thousands of entries for internet backbone routers. But each entry is just a destination prefix (like a network address and mask) and the next hop info, plus perhaps some metrics (like how &ldquo;far&rdquo; or what the preference is).</p><p>A small analogy from everyday tech: On your own PC or phone, you also have a routing table, albeit tiny. Usually it says &ldquo;any address not on my local network, send to my default gateway (router).&rdquo; That&rsquo;s one entry (the default route). And perhaps one for local network, one for loopback. In a home, your router&rsquo;s table might be only slightly more complex  mostly forwarding everything to the ISP and handling local ones directly. But an ISP&rsquo;s router has to differentiate between many, many networks.</p><p>In summary, a routing table is like the collection of all known paths a router can use, and picking the best one for each packet is how data finds its target without an explicit end-to-end guide pre-written.</p><p><strong>Technical Perspective</strong>: Routing tables in routers contain prefixes (network addresses with subnet masks) and their associated forwarding information (next-hop and outgoing interface). For example:</p><ul><li>0.0.0.0/0 via 198.51.100.1 on eth0  this is a default route (matches anything not more specific).</li><li>203.0.113.0/24 via 198.51.100.4 on eth1  a specific network route.</li><li>10.5.0.0/16 dev eth2  perhaps an internal network reachable directly on a local interface.</li></ul><p>Routers perform a longest prefix match on the destination IP of each packet. Modern routers do this in hardware for speed. In the early internet days, routing tables could be managed manually or with simpler protocols (RIP etc.), but with scale, BGP updates these entries dynamically for external routes.</p><p>Also, each route might have attributes: in BGP, for instance, there&rsquo;s local preference, AS path, MED, etc., which influence selection when multiple routes exist for the same prefix. But ultimately once selection is done, one entry is installed in the forwarding table (FIB  forwarding information base).</p><p>Routing vs Forwarding: Technically, the &ldquo;routing table&rdquo; is sometimes considered the RIB (routing information base) with all known routes, and the &ldquo;forwarding table&rdquo; is the subset of routes the router is actively using to forward packets. In many cases, these distinctions aren&rsquo;t visible externally, but it&rsquo;s good to know internally routers may keep additional info.</p><p>For a network engineer, understanding the routing table is vital: netstat -r or ip route on Linux shows the routing table  if something isn&rsquo;t working, maybe there&rsquo;s no route or a wrong route. On a big router, one might inspect BGP table entries to see if a prefix is learned or filtered.</p><p>Example: If you try to reach an IP and get &ldquo;Destination net unreachable&rdquo;, often it means there&rsquo;s no matching route in the table (so the packet gets dropped and an ICMP message is returned). Or if there&rsquo;s a misconfiguration, packets might loop because routing tables on two routers send the packet to each other back and forth  that&rsquo;s a routing loop, usually protocols have methods to prevent those (like hop counts, split horizon, etc.).</p><p>In summary, routing tables are the implementation of the &ldquo;knowledge&rdquo; that routers use to steer traffic. They are built from initial configs, direct connections, and dynamically from routing protocols. They are as critical to networks as a brain is to a body  without them, the network wouldn&rsquo;t know where to send anything.</p><h2 id=traffic-and-detours>Traffic and Detours<a hidden class=anchor aria-hidden=true href=#traffic-and-detours>#</a></h2><p>Even in well-planned cities, sometimes the usual routes get overwhelmed or blocked. Rush hour hits and the main highway is jammed. An accident closes a key intersection. Smart travelers (or navigation apps) will look for detours to avoid the congestion. The internet similarly experiences &ldquo;rush hours&rdquo; and accidents (outages), and routers must handle these gracefully by finding alternate routes.</p><p>Let&rsquo;s talk traffic jams: In the network context, a traffic jam happens when a particular link or route is carrying more data than it can handle comfortably. Remember, each physical link (like a cable or fiber) has a maximum capacity (bandwidth). If devices send more data than the link can transmit at once, a queue forms at the router&rsquo;s interface. If the queue gets too large, packets start getting dropped. This is analogous to cars backed up in a long line or even being turned away if an off-ramp is full.</p><p><strong>Congestion and detours</strong>: Good news  as we discussed, routers are constantly sharing information. If a route becomes slow or fails, routers can try alternative paths. In dynamic routing protocols, they might not detect slight congestion (they aren&rsquo;t like Waze measuring minor slowdowns in real-time), but they do detect failures. However, some modern networks and systems (and adaptive protocols like some SD-WAN technologies) can react to performance metrics too.</p><p>Basic internet routing (BGP) doesn&rsquo;t automatically reroute due to congestion  it&rsquo;s more about availability (is the route up or down). But congestion is often handled by the endpoints adjusting (TCP slows down). However, in some cases, if one path is too slow consistently, network engineers might reconfigure routing, or traffic might naturally spread out if multi-path routes exist.</p><p>A relatable scenario:</p><ul><li>If a primary route between New York and Los Angeles is very crowded, data might also flow via a different path (maybe via Chicago or even a more roundabout path) especially if some smart routing or load balancing is in play. The internet often has multiple redundant links between major areas, so traffic can distribute (some networks use equal-cost multi-path routing to split load across multiple links).</li></ul><p><strong>The resilience aspect</strong>: If a major fiber cut happens (like an &ldquo;accident&rdquo; closing the road), routers quickly announce &ldquo;we lost that road&rdquo; and all traffic shifts to other available roads (even if longer). Your data might take a few milliseconds longer to arrive due to a detour, but it will get there. This is like having multiple bridges out of a city  one goes down, you use the other.</p><p>We can also think of traffic engineering: big network operators sometimes plan alternate paths or throttle certain traffic so that the &ldquo;VIP lanes&rdquo; (for critical traffic) are clear. This goes into QoS territory which we&rsquo;ll hit later, but it&rsquo;s akin to city planners designating some lanes as HOV or having traffic cops redirect flows during events.</p><p><strong>The key idea to convey</strong>: The network is not static. It deals with varying loads all the time. When you stream a popular live event, that&rsquo;s like rush hour  tons of data heading to many users, causing spikes in traffic. Networks mitigate this by having fat &ldquo;highways&rdquo; for backbone connections and by distributing content (CDNs, which we&rsquo;ll discuss) closer to users. When spikes do cause congestion, protocols like TCP ensure that everyone slows down a bit (involuntarily, through packet loss signals) so that it doesn&rsquo;t collapse the network.</p><p>Meanwhile, if something knocks out part of the network (like a key router goes offline or cable breaks), routing protocols re-route around the failure, much like a well-designed road system with multiple redundancies.</p><p>All of this is why you rarely notice when something happens. There have been instances (some big outages make the news) where a major internet backbone goes down and suddenly things are slow or unreachable until rerouted. But often, the network &ldquo;self-heals&rdquo; so quickly that end users have no clue, or just a brief glitch.</p><p>So think of internet routers and the architecture as having built-in &ldquo;detour planning&rdquo; capabilities. It&rsquo;s not always perfect  there can be bottlenecks if, say, all alternate routes are also near capacity, but generally the philosophy is: multiple paths exist; if one is clogged, use another. And if all are clogged, well, that&rsquo;s like a city in gridlock  at that point, nothing to do but wait or improve infrastructure (upgrade links).</p><p><strong>Technical Perspective</strong>: There are a few technical angles to congestion and detours:</p><ul><li><p><strong>Congestion Control</strong>: This is primarily handled by transport protocols like TCP. TCP&rsquo;s algorithms (like Reno, Cubic, BBR, etc.) detect packet loss or delay (as signals of congestion) and adjust sending rates. This is like drivers noticing brake lights and slowing down to avoid collisions.</p></li><li><p><strong>Traffic Engineering</strong>: Network operators can influence routing to balance load. For example, with BGP, an ISP might have multiple links to another ISP and can tweak route advertisements or use protocols like MPLS with traffic engineering to spread traffic. It&rsquo;s like manually directing some traffic onto an alternate highway to prevent overuse of one.</p></li><li><p><strong>Fast Reroute</strong>: Some networks employ fast reroute mechanisms (especially in MPLS or modern routing protocols) to switch to backup paths in sub-second time if a failure is detected, improving on the often slower convergence of standard BGP.</p></li><li><p><strong>Multiple Paths</strong>: Protocols like ECMP (Equal-Cost Multi-Path) allow routers to use multiple next-hops for the same destination prefix if they have equal cost, effectively load-balancing traffic across parallel links. So if two roads are equally good, traffic is split  that&rsquo;s proactive detour usage.</p></li><li><p><strong>Detour in application</strong>: Sometimes the application or overlay networks handle it  e.g., Tor or some VPNs can route around heavy nodes, or things like Google&rsquo;s QUIC (on UDP) can migrate to different network paths if needed without breaking the connection.</p></li></ul><p>A real example: When a big undersea cable broke between, say, Asia and North America, traffic rerouted through other cables, though latency increased (since maybe it had to go via Europe or something). That&rsquo;s a detour: longer path but connectivity maintained.</p><p>Another example: BGP misconfiguration can cause traffic to detour in unintended ways (like that time when a Pakistan ISP accidentally announced a route for all of YouTube&rsquo;s traffic and sucked it into a black hole  the &ldquo;detour&rdquo; was catastrophic because it was a mis-route). So proper functioning relies on routers exchanging accurate info.</p><p>The phrase &ldquo;the internet routes around damage&rdquo; is a famous saying. It&rsquo;s generally true: built-in redundancy and dynamic routing allows it to circumvent many problems.</p><p>So, network reliability comes not just from strong cables, but from smart routing and protocols that adjust to conditions. This adaptability is one of the internet&rsquo;s greatest strengths.</p><h2 id=a-global-network>A Global Network<a hidden class=anchor aria-hidden=true href=#a-global-network>#</a></h2><p>From a tiny room to a floor to a building to a city  we&rsquo;ve scaled the analogy up and up. Let&rsquo;s take a moment to marvel at what we&rsquo;ve got now: a global network that connects virtually every corner of the world. From your single computer in a dorm room or a caf, you can reach servers and devices on the other side of the planet in seconds. How is this even possible? Because of all the principles we&rsquo;ve covered working together in harmony:</p><ul><li><p><strong>Unique addressing (IP)</strong>: Every &ldquo;building&rdquo; has an address and every &ldquo;room&rdquo; inside it can be uniquely identified. This is like having a global postal code system that ensures even in a gigantic world city, a given address points to exactly one location.</p></li><li><p><strong>DNS (directories)</strong>: If you prefer names to addresses, the DNS system is ready to translate. This is critical because humans can&rsquo;t remember billions of numeric addresses. The DNS hierarchy, like a giant international directory, is always there to help route your message by name.</p></li><li><p><strong>Protocols (common rules/languages)</strong>: No matter if the two devices have different hardware or are across oceans, they talk in agreed languages like TCP/IP, HTTP, etc. This is akin to standardizing communication  like if everyone in the world learned a common tongue for business, or at least the postal offices all agree on how to format an envelope and address.</p></li><li><p><strong>Routers and Gateways (connecting infrastructure)</strong>: These are the bridges and roads that link all networks. They figure out the path, whether it&rsquo;s short (to the next city) or long (across continents). The cooperative nature of internet service providers and backbone carriers means your data can hop through many owners&rsquo; networks seamlessly. Just as you can drive your car across state lines and country borders following highways, your data travels across many network boundaries guided by BGP and peering agreements.</p></li><li><p><strong>Private/Public IP and NAT</strong>: This allows the global network to scale by not needing a public identity for every device, and provides some isolation. It&rsquo;s like in a global phone system, not every office phone has a direct external line  many share a few lines through a PBX. NAT at your home or office ensures multiple devices share one public address, conserving the global address space.</p></li><li><p><strong>Security measures (firewalls, encryption)</strong>: Though not explicitly detailed yet in our analogy, note that as data travels, there are checkpoints and locks (we&rsquo;ll soon discuss security) that ensure not just anyone can barge into your building or eavesdrop on messages. On the internet, technologies like TLS (for encryption) and firewalls (for network security) are the guardians of safe transit.</p></li><li><p><strong>Coordinated operation</strong>: The fact that no single entity runs the whole internet, but it still works, is like a city with no single mayor yet everything somehow functions  because everyone follows common laws (protocols) and mutual agreements (ISPs peering, etc.). There are organizations (like IETF, ICANN, etc.) which set standards and coordinate critical resources like addresses and domain names to avoid chaos.</p></li></ul><p>When we say &ldquo;global network,&rdquo; we also underscore the speed and capacity. Light travels fast  and through fiber optics, your data literally travels as light, at two-thirds of the speed of light approximately. This means even around the world (~40,000 km), theoretically ~0.2 seconds one-way for light in fiber, maybe ~0.3 seconds after all the switching. That&rsquo;s why you can have nearly real-time video calls with someone across the planet. It&rsquo;s like having a conversation with someone in the next room, except the &ldquo;next room&rdquo; is in another country.</p><p>It&rsquo;s also robust: if one route is down, others pick up. If one server is busy, others might share load (think of content delivery networks replicating content across the globe, which we&rsquo;ll mention soon). The design is not perfect, but it&rsquo;s incredibly resilient given its scale and decentralization.</p><p>So, from our analogy perspective: now we have a worldwide cityscape where any room can send a message to any other room, across any distance, and the message can get there usually in less than a second. That&rsquo;s the power of the internet, built on the networking fundamentals we&rsquo;ve covered.</p><p><strong>Technical Perspective</strong>: The internet&rsquo;s global nature relies on:</p><ul><li><p><strong>IP (Internet Protocol)</strong> as the universal addressing scheme (IPv4 and IPv6 ensuring that every network node can be identified globally, the latter solving the address exhaustion issue).</p></li><li><p><strong>Standard protocols</strong> (TCP, UDP, etc.) that all systems implement  thanks to standards (RFCs) and interoperable implementations.</p></li><li><p><strong>Physical infrastructure</strong>: huge amounts of fiber optic cabling, undersea cables (with repeaters), satellite links, cellular networks, etc., that physically move the data. Companies and governments invest in this continuously (adding more fiber, increasing backbone speeds, launching new satellites).</p></li><li><p><strong>Agreements and governance</strong>: e.g., Tier 1 ISPs that form the core don&rsquo;t charge each other (settlement-free peering) to exchange traffic, ensuring global reachability. They do charge lower tiers, etc., but the system overall ensures that any internet user can reach any other, as networks are motivated to be interconnected (who&rsquo;d join an internet that can&rsquo;t reach half the world?).</p></li><li><p><strong>The speed</strong>: as noted, signals propagate near light speed. There&rsquo;s also optimization: new protocols reduce handshake overhead (like QUIC vs TCP for repeated connections), smarter routing caching, etc. Hardware improves so routers can forward at terabits per second rates.</p></li><li><p><strong>Scale</strong>: global internet traffic is in the zettabytes per year range now. It&rsquo;s handled by distributed architecture (no single wire or router carries it all  it&rsquo;s spread out). Content is served from multiple data centers around the world to shorten distances (CDNs, more later). That&rsquo;s like in our city, having copies of a library&rsquo;s popular books in many branches so people don&rsquo;t all travel to one big central library.</p></li></ul><p>To put it in a frame: The Internet is the largest engineered system ever built by humans, linking billions of devices. And it works 24/7, largely invisibly to us. It embodies the principle that if you design simple, robust building blocks (like IP being dumb about content, just forwarding packets; TCP handling reliability; DNS handling naming; etc.), and allow many participants to cooperate through open protocols, you can scale to an unimaginable extent.</p><p>We&rsquo;ve now covered the core of how data gets from here to there. Next, we&rsquo;ll delve into some additional important aspects of networks, like who provides these links (ISPs), and things about security, performance enhancements, etc., all within our trusty analogy framework.</p><h2 id=isps-as-builders>ISPs as Builders<a hidden class=anchor aria-hidden=true href=#isps-as-builders>#</a></h2><p>Let&rsquo;s focus on the role of those who actually construct and provide the roads in our city-of-networks: the ISPs (Internet Service Providers). In our building analogy, if each building is a network, how do they get connected physically? Someone has to lay down the cable (the roads) between buildings, maintain them, and possibly regulate traffic. This is what ISPs do in the digital world.</p><p>Think of ISPs as the construction companies and utility providers of the internet city:</p><ul><li><p>They lay the cables (fiber optic lines underground, coaxial cables to homes, etc.) that serve as the main roads and highways between networks.</p></li><li><p>They may own routers and switching centers that act like the big highway interchanges or bridges connecting different parts of the city.</p></li><li><p>They provide service to buildings (networks) much like a utility. When you get internet access at home, you&rsquo;re essentially hiring an ISP to connect your home (your building) to the rest of the global city. Without that, your building is isolated  you&rsquo;d have a network, but it&rsquo;d be like a building with no road leading to it.</p></li><li><p>In many places, multiple ISPs might serve the same area, analogous to multiple road companies or tollway operators. They interconnect at exchange points.</p></li></ul><p>On a more granular note, consider your home network (a small building) connecting to your ISP:</p><ul><li><p>The ISP gives you a &ldquo;last mile&rdquo; connection  maybe a fiber line or DSL or cable line into your building. This is like them building a private driveway from your house to the main road.</p></li><li><p>At the other end, the ISP connects up to larger networks (or is itself large). They might be connected to other ISPs regionally, and those to others globally. ISPs themselves form a hierarchy or mesh (there are Tier 1 ISPs that form the internet backbone, Tier 2 that connect regions or countries but pay Tier 1 for wider access, Tier 3 that directly serve consumers or local areas, etc.).</p></li></ul><p>So when you send data out, after leaving your building via the gateway, you&rsquo;re on the ISP&rsquo;s infrastructure  their roads. They ensure your data can travel along their network and then hop off to another ISP&rsquo;s network if needed to reach the destination building.</p><p>Without ISPs, we&rsquo;d have a bunch of independent networks that might not talk to each other. ISPs and their peering agreements stitch the networks together into one internet.</p><p>Imagine if every building had to run its own wires to every other building it wanted to talk to  that&rsquo;d be impossible at scale. Instead, buildings connect to an ISP&rsquo;s hub (like connecting to the nearest highway entrance), and the ISPs connect to each other&rsquo;s hubs. That way, any building can reach any other by going through this network of roads owned by ISPs.</p><p>Additionally, ISPs maintain and upgrade these roads (we&rsquo;ll cover maintenance next). They decide how much capacity to build (should we lay a new 100 Gbps line to this city? Should we upgrade this old copper to fiber?). They often charge fees or have subscription models, similar to tolls or utility bills, to fund this.</p><p>In the analogy: an ISP is like a road builder and maintenance crew combined with a toll operator. You pay them (monthly bill) to use their roads to get to the rest of the world. They in turn might pay bigger ISPs for upstream connectivity (like a regional toll road might pay for connecting to the interstate system, or just analogous to commerce agreements).</p><p>Summing up: ISPs are the reason your building (network) isn&rsquo;t an island. They connect you to the global city by building and operating the physical and logical infrastructure for data transport.</p><p><strong>Technical Perspective</strong>:</p><ul><li><p><strong>Last mile</strong>: This term refers to the link from the ISP to the end user (home or business). Could be DSL, Cable, Fiber-to-the-home, wireless broadband, etc. It&rsquo;s often one of the harder parts (installing lines to every home is labor-intensive).</p></li><li><p><strong>ISP equipment</strong>: They provide you typically a modem or ONT (optical network terminal) and you connect your router to that. On their side, they have access networks (like a DSLAM in phone exchange for DSL, CMTS for cable, or OLT for fiber PON) that concentrate many users.</p></li><li><p><strong>Backhaul</strong>: The ISP aggregates local customers&rsquo; traffic into bigger pipes that carry it to core network and then out to the internet exchanges.</p></li><li><p><strong>Tier 1 vs Tier 2</strong>: Tier 1 ISPs are large networks that don&rsquo;t pay anyone for transit  they peer with all other tier 1s and cover lots of ground (e.g., Level 3, AT&amp;T, NTT, etc.). Tier 2&rsquo;s buy transit from Tier 1&rsquo;s for some routes but also peer where they can. Tier 3&rsquo;s (like small local ISPs) usually pay upstream providers entirely for internet access.</p></li><li><p><strong>Peering and transit</strong>: Two ISPs may have a settlement-free peering (no charge both directions if traffic is balanced enough), or a customer-provider relationship (one pays the other for access).</p></li><li><p><strong>Utilities analogy</strong>: People often compare the internet to power grid or roads  in some ways it&rsquo;s like a road system, in others like a telecom utility. Many governments regulate ISPs like utilities when it comes to fair access etc., because they&rsquo;re critical infrastructure.</p></li><li><p><strong>ISP as an IP</strong>: Typically, when your device sends data out, it goes to the ISP&rsquo;s router, which then uses its routing table to send upstream. The ISP usually assigns you an IP (public or behind CGNAT) which is how your network is identified on the internet. They also often provide a DNS resolver, etc.</p></li></ul><p>Without an ISP, if you and I directly strung a cable, we could network, but to reach a website on another continent, you need these intermediary carriers.</p><p>So the healthy functioning of the internet relies on ISPs (and the big backbone operators) to do their job of expanding capacity, connecting with each other, and routing traffic fairly efficiently. Historically, there have been occasional tussles (one ISP might throttle or not carry traffic well from another if disputes arise, akin to two road companies disagreeing at a border  but mostly it&rsquo;s resolved via business agreements because customers demand access to all internet content).</p><p>Alright, with roads built by ISPs, we can drive anywhere. But roads need upkeep  let&rsquo;s talk maintenance next.</p><h2 id=global-communication>Global Communication<a hidden class=anchor aria-hidden=true href=#global-communication>#</a></h2><p>Ultimately, because of the collaborations and infrastructures set by ISPs (and the underlying technologies), we achieve something quite magical: any building (network) can talk to any other building in the world, essentially in real-time. This is global communication at work.</p><p>This chapter is a bit of a capstone of Part 2, emphasizing that from your little room, you can reach across the globe:</p><ul><li><p>From a tiny village&rsquo;s network in one country, you can stream video from a server in a mega data center on another continent.</p></li><li><p>A student in their dorm (one room in one building) can video chat with another student thousands of miles away as if they were next door.</p></li><li><p>Businesses can connect their offices worldwide through secure tunnels (VPNs, which we&rsquo;ll discuss in security part)  making it feel like one cohesive network even if physically distributed.</p></li></ul><p>All the pieces we discussed  IP addresses, DNS, routers, gateways, ports, protocols, ISPs, etc.  are the unsung heroes enabling this.</p><p>To put it into the building terms: you, in Room 101 of Building A in City X, can send a message that ends up in Room 202 of Building B in City Y halfway around the planet. And not just you  millions can do similar simultaneously, thanks to the scalability of the system.</p><p>Think of historical context: It&rsquo;s as if every person in every building got a magic telephone line connecting them to anyone else  except it&rsquo;s even more versatile than a telephone because it&rsquo;s data of all kinds (text, voice, video, interactive apps).</p><p>The internet city truly turned the world into a &ldquo;global village&rdquo; concept  because distance and location matter a lot less now for communication:</p><ul><li><p>Yes, there is still latency (it&rsquo;s not instant-instant if far, maybe 100-300ms), but that&rsquo;s tiny.</p></li><li><p>People collaborate in real time from different countries on documents, code, etc. because the network allows their computers to behave like they&rsquo;re in neighboring cubicles.</p></li></ul><p>We should also note: all this happens at incredible speed and reliability. The fact that one can reload a webpage from servers across the world and see it in seconds, or that we can watch a live sports event happening in another country with only a few seconds delay  these are everyday miracles courtesy of computer networks.</p><p>This chapter might also be a good place to reflect on how interconnected everything is:</p><ul><li><p>The phrase &ldquo;the world is connected like never before&rdquo; is directly enabled by what we covered.</p></li><li><p>However, it also means if major networks go down, it can have wide impact (like if a Tier1 has an outage, many dependent networks could feel it).</p></li></ul><p>So global communication via the internet is a bit like having built an extremely complex yet robust &ldquo;worldwide web&rdquo; of roads and protocols that ties humanity together (for better or worse  but mostly better, we hope, in terms of sharing knowledge and connectivity).</p><p>Essentially, from your room to the world:</p><ul><li>IP + port: find the right building and room.</li><li>DNS: translate human-friendly names to those addresses.</li><li>Protocols: speak in a way the other side understands.</li><li>Routers/gateways: carry you through the city intersections to the destination.</li><li>Public/private IP & NAT: handle addressing at the boundaries.</li><li>ISPs: provide the pathways and global reach.</li></ul><p>If needed, specialized tweaks (like VPNs or CDNs or quality of service) can optimize or secure specific communications  topics we are going to delve into next (security and advanced stuff in Part 3 maybe).</p><p>But at its core, the motto could be: no matter where you are, if you&rsquo;re on the network, you can reach anywhere else on the network. That&rsquo;s the definition of the internet: interconnected networks forming one big global network.</p><p>It&rsquo;s something to appreciate  we often only notice internet infrastructure when it fails or is slow, but when you stop and think, it&rsquo;s astonishing that it works as well as it does.</p><p><strong>Technical Perspective</strong>:</p><ul><li><p>Achieving global reach requires adherence to standards (so any IP network can interface with another) and cooperation among operators. Organizations like the IETF (Internet Engineering Task Force) ensure new technologies remain interoperable and backward-compatible as much as possible.</p></li><li><p>There are slight exceptions: some regions might have restricted internet (firewalls like the Great Firewall of China, or isolated intranets), but physically even those can connect  the isolation is a policy choice, not a technical necessity.</p></li><li><p>Even beyond Earth: the networks extend to satellites, space stations. One day, maybe interplanetary networks (delay-tolerant networking is being researched for that).</p></li><li><p>Key stat: ~5 billion people use the internet, tens of billions of devices. The scale is global indeed. Data flows between all continents at terabit speeds routinely.</p></li><li><p>Modern enterprise networks often connect via internet-based VPNs rather than leased lines, because internet is so pervasive and high-bandwidth now.</p></li><li><p>But for everyday personal usage, it&rsquo;s things like email, social media, video calls that really highlight the &ldquo;wow, I&rsquo;m talking to someone 10,000 km away like they&rsquo;re here.&rdquo;</p></li><li><p>The backbone upgrades like undersea cables capable of petabits, etc., ensure the capacity for global comm grows with demand (like 4K streaming, etc. that would&rsquo;ve been unthinkable to send globally a couple decades ago).</p></li><li><p>The internet weather: There are tools to see global internet health (like monitors of BGP routes, etc.). Sometimes a country gets cut off (cable cut to an island nation, etc.)  then you realize global communication isn&rsquo;t guaranteed, it&rsquo;s maintained by ongoing efforts to have multiple redundant links.</p></li></ul><p>Thus, the dream of networking  connecting disparate systems  has been realized to the point where location is almost irrelevant to data. That is a massive achievement of computer networks by analogy or otherwise.</p><p>Now, let&rsquo;s move to Part 3  tackling more conceptual or future stuff (security, advanced networking, cloud, etc.), continuing our analogy narrative.</p><hr><p><em>Continue to <a href=/posts/understanding-networks-by-analogy-3/>Part 3: Hotels in the Cloud & Future Cities</a></em></p></div><footer class=post-footer><ul class=post-tags></ul><nav class=paginav><a class=prev href=https://memo.mx/posts/understanding-networks-by-analogy-1/><span class=title>« Prev</span><br><span>Understanding Computer Networks by Analogy - Part 1: Building the Foundation</span>
</a><a class=next href=https://memo.mx/posts/understanding-networks-by-analogy-3/><span class=title>Next »</span><br><span>Understanding Computer Networks by Analogy - Part 3: Hotels in the Cloud & Future Cities</span></a></nav></footer></article></main><footer class=footer></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>